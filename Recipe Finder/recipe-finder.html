<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recipe Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: linear-gradient(120deg,#fff7d5 0%, #ffe6f3 100%);
      color: #4c2736; font-family: 'Segoe UI', Arial, sans-serif;
      min-height: 100vh; margin: 0;
      display: flex; flex-direction: column; align-items: center;
    }
    h1 { margin-top:34px; font-size:2.2rem; letter-spacing:1px; color:#ed61bf;}
    .main-box {
      background: rgba(255,255,255,0.97); padding:27px 19px 16px 19px;
      border-radius: 14px; box-shadow: 0 4px 20px #da61f40e;
      width:98vw; max-width:450px; margin-bottom:18px;
    }
    form { display:flex; gap:11px; margin-bottom:19px; }
    input[type=text] {
      flex:1; font-size:1.15em; border-radius:8px; border:1.5px solid #f7bee8;
      padding:7px 13px;
    }
    button {
      background: #ed7bdb; color:#fff; font-weight:700; border:none; border-radius:8px;
      padding: 7px 19px; font-size:1em; cursor:pointer; transition: background 0.13s;
    }
    button:hover { background: #c750b9;}
    .results {
      display:grid; grid-template-columns:1fr 1fr; gap:17px; margin-top:9px;
    }
    .card {
      background: #fff7ef; border-radius:11px; box-shadow:0 2px 7px #e1a6c93f;
      padding:10px 5px 10px 5px; min-height:190px; cursor:pointer;
      animation: fade-in .5s; transition:box-shadow .16s, transform .12s;
    }
    .card:hover { box-shadow:0 7px 15px #d25bc07d; transform:scale(1.045);}
    @keyframes fade-in {from{opacity:0;transform:scale(0.91);}to{opacity:1;transform:scale(1);}}
    .card-img {
      width:100%; height:110px; border-radius:8px; object-fit:cover; background:#f5dde1;
      box-shadow:0 1px 6px #e460b24f;
    }
    .rc-title {
      font-weight:700; color:#b72f87; text-align:center; margin:6px 0 3px 0; font-size:1.02em;
    }
    .rc-meta { font-size:0.99em; color:#a68b9d; text-align:center;}
    .modal-bg {
      position:fixed;z-index:50;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.48);display:none;
      align-items:center;justify-content:center;
    }
    .modal {
      background:#fffbe7; border-radius:13px; padding:21px 18px;box-shadow:0 4px 44px #ea81deda;max-width:90vw;min-width:210px;
      max-height:88vh; overflow-y:auto;
    }
    .modal h2 { margin:0 0 8px 0;font-size:1.16em;color:#d43d72;}
    .modal .summary {font-size:1.04em; color:#845675;}
    .ing-list {margin:16px 0; padding:0 0 0 18px;}
    .close-btn {
      position:absolute; top:13px; right:23px; font-size:1.45em; color:#d652a5;
      background:none; border:none; cursor:pointer;
    }
    .footer{margin:20px 0 8px 0; text-align:center; opacity:0.39; font-size:0.99rem;}
    @media(max-width:470px){.results{grid-template-columns:1fr;}.main-box{padding:9px 2vw 8px 2vw;}}
  </style>
</head>
<body>
  <h1>üçΩÔ∏è Recipe Finder</h1>
  <div class="main-box">
    <form id="searchForm" autocomplete="off">
      <input type="text" id="query" placeholder="Search by ingredient or recipe..." required />
      <button type="submit">Search</button>
    </form>
    <div class="results" id="results"></div>
  </div>
  <div class="modal-bg" id="modalBg">
    <div class="modal" id="modal"></div>
  </div>
  <div class="footer">All-in-one HTML by YourName ¬∑ Powered by Edamam Recipe API</div>
  <script>
    // You can replace APP_ID & APP_KEY with your own Edamam API key for increased quota!
    const APP_ID = 'demo'; // 'demo' is permitted with limited results
    const APP_KEY = 'ed7aa35e8bcd8b1a3b2b30260aa5efb8';
    const API_URL = (q) => `https://api.edamam.com/search?q=${encodeURIComponent(q)}&app_id=${APP_ID}&app_key=${APP_KEY}&from=0&to=8`;
    const form = document.getElementById('searchForm');
    const results = document.getElementById('results');
    const modalBg = document.getElementById('modalBg'), modal = document.getElementById('modal');

    form.onsubmit = async function(e){
      e.preventDefault();
      const q = document.getElementById('query').value.trim();
      results.innerHTML = "<div style='grid-column:span 2;text-align:center;'>Searching...</div>";
      let data=await fetch(API_URL(q)).then(r=>r.json());
      results.innerHTML = "";
      if(!data.hits || !data.hits.length) {
        results.innerHTML = `<div style="grid-column:span 2;color:#d53;">No recipes found.</div>`;
        return;
      }
      data.hits.forEach(hit => {
        let rec = hit.recipe;
        let card = document.createElement('div');
        card.className = "card";
        card.innerHTML = `
          <img class="card-img" src="${rec.image || "https://via.placeholder.com/220x120?text=No+Image"}" alt="Recipe"/>
          <div class="rc-title">${rec.label}</div>
          <div class="rc-meta"><span>üç¥ ${rec.yield || ''}</span> <span>¬∑ ${rec.dietLabels[0] || 'Recipe'}</span></div>
        `;
        card.onclick = ()=>showDetail(rec);
        results.appendChild(card);
      });
    };

    function showDetail(rec){
      modalBg.style.display = "flex";
      modal.innerHTML = `
        <button class="close-btn" onclick="closeModal()">&times;</button>
        <h2>${rec.label}</h2>
        <img src="${rec.image||""}" alt="img" style="width:99px;height:76px;object-fit:cover;border-radius:7px;box-shadow:0 2px 9px #bc6ccc48;" />
        <div class="summary">${rec.source ? `<a href="${rec.url}" target="_blank" style="color:#c75b96;text-decoration:underline;">${rec.source}</a>` : ""}</div>
        <ul class="ing-list">${rec.ingredientLines.map(i=>`<li>${i}</li>`).join('')}</ul>
        <div style="color:#977996; font-size:.98em;">
          <b>Cuisine:</b> ${rec.cuisineType && rec.cuisineType[0] ? rec.cuisineType[0] : "-"} ¬∑ 
          <b>Meal:</b> ${rec.mealType && rec.mealType[0] ? rec.mealType[0] : "-"}
        </div>
        <div style="margin:5px 0 0 0;color:#6ca3b7;font-size:.97em;">
          Calories: ${rec.calories ? Math.round(rec.calories) : '-'}
        </div>
      `;
    }
    window.closeModal = function(){ modalBg.style.display = "none"; modal.innerHTML=""; }
    modalBg.onclick = function(e){ if(e.target===modalBg) closeModal(); }
  </script>
</body>
</html>
