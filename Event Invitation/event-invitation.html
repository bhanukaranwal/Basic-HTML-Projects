<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RSVP: Birthday Bash!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(120deg, #ffe5ec 0%, #b5deea 100%);
      color: #372b31; min-height:100vh; margin:0;
      display: flex; flex-direction: column; align-items: center;
    }
    .invite-box {
      background:rgba(255,255,255,0.98);padding:28px 20px 18px 20px; border-radius:17px;
      box-shadow:0 4px 23px #d08eaa27; margin:32px 0 16px 0;
      min-width:325px; max-width:95vw; width:360px;
      display: flex; flex-direction: column; align-items: center;
      text-align:center;
    }
    h1 {
      font-size:2.3rem; letter-spacing:.7px; color:#d657a3; margin-top:10px;margin-bottom:4px;
    }
    .details { margin:11px 0 14px 0; color:#68486a; }
    .rsvp-form label { font-weight:600; margin-top:8px; display:block;}
    .rsvp-form input, .rsvp-form select {
      font-size:1.08em;background:#f9e6f6;padding:7px 12px;border-radius:8px;border:1px solid #e5b1de;
      margin-top:3px;margin-bottom:9px;width:96%;
      box-sizing:border-box;
    }
    .rsvp-btn {
      background:#d657a3;color:#fff;font-size:1.05em; padding:8px 23px; border:none;
      border-radius:10px;font-weight:700;cursor:pointer;margin-top:8px;transition:background .16s;
      box-shadow:0 2px 10px #e792c944;
    }
    .rsvp-btn:hover{background:#b04785;}
    .msg {margin:10px 0 0 0; color:#895084;}
    .guest-list-box { width:100%; margin:15px 0 0 0;}
    .guest-list-title { color:#5983bc; font-size:1.15em; font-weight:700; margin-bottom:5px;}
    .guest-list {
      background:#e8f0ff; border-radius:10px; padding:10px 6px; max-height:110px; overflow-y:auto;
      font-size:.99em; text-align:left; margin-bottom:8px;
    }
    .footer{margin:20px 0 8px 0;text-align:center;opacity:.40;font-size:.97rem;}
    @media(max-width:430px){.invite-box{padding:10px 2vw 11px 2vw;}}
  </style>
</head>
<body>
  <div class="invite-box">
    <h1>ðŸŽ‰ You're Invited!</h1>
    <div class="details">
      <b>Birthday Bash & Dinner</b><br>
      Sat, August 24 &middot; 6:30 PM â€“ 10:30 PM<br>
      Dandelion Hall, 45 Neptune Street
    </div>
    <form class="rsvp-form" id="rsvpForm" autocomplete="off">
      <label>Your Name: <input type="text" id="name" maxlength="40" required /></label>
      <label>Will you attend?
        <select id="attend">
          <option value="Yes">Yes, I'll be there!</option>
          <option value="Maybe">Maybe</option>
          <option value="No">Sorry, can't make it</option>
        </select>
      </label>
      <button class="rsvp-btn" type="submit">RSVP</button>
      <div class="msg" id="msg"></div>
    </form>
    <div class="guest-list-box">
      <div class="guest-list-title">Guest List (Live)</div>
      <div class="guest-list" id="guestList"></div>
    </div>
  </div>
  <div class="footer">All-in-one HTML by YourName Â· RSVP responses and guest list are saved in your browser</div>
  <script>
    // Utilities for guest list (browser/localStorage powered)
    function getGuests(){ return JSON.parse(localStorage.eventGuests||'[]'); }
    function setGuests(d){ localStorage.eventGuests=JSON.stringify(d); }
    function renderGuests(){
      let guests = getGuests();
      let gl = document.getElementById('guestList');
      if(!guests.length){gl.innerHTML="<i>No responses yet.</i>";return;}
      gl.innerHTML = guests.map(g=>`<b>${g.name}</b>: <span style="color:#${g.attend=='Yes'?'1ca972':g.attend=='No'?'e06b77':'c1a226'}">${g.attend}</span>`).join("<br>");
    }
    renderGuests();
    // RSVP logic
    document.getElementById('rsvpForm').onsubmit = function(e){
      e.preventDefault();
      let name=this.name.value.trim().replace(/</g,"&lt;"), attend=this.attend.value;
      if(!name)return;
      let guests=getGuests();
      guests = guests.filter(g=>g.name!==name); // Uniqueness by name
      guests.push({name,attend});
      setGuests(guests);
      renderGuests();
      document.getElementById('msg').textContent = attend==='Yes'?"ðŸŽˆ RSVP Confirmed. See you there!":attend==='Maybe'?"ðŸŒ¼ RSVP maybe: Let us know if plans change!":"ðŸŒ¸ Sorry you can't make it!";
      this.reset();
    };
  </script>
</body>
</html>
