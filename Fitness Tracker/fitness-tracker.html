<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fitness Tracker Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { 
      background: linear-gradient(120deg,#a8edea 0%,#fed6e3 100%);
      font-family: 'Segoe UI', Arial, sans-serif;
      min-height:100vh; margin:0; color:#242a34; display:flex;flex-direction:column;align-items:center;
    }
    h1 { margin:33px 0 9px 0; font-size:2.13rem; letter-spacing:.7px; color:#438a82;text-align:center;}
    .dash-box {
      background: #fffefdcc; border-radius: 15px;
      box-shadow:0 4px 22px #c1e3b738;
      min-width:325px; max-width:97vw; width:370px; margin-bottom:20px;
      padding:26px 17px 19px 17px;
    }
    form { display:flex;gap:9px;flex-wrap:wrap; justify-content:center;}
    select,input[type=number],input[type=date]{font-size:1.06em;padding:5px 12px;border-radius:8px;
      border:1.2px solid #cae2f8;}
    button {
      background:#57d8a9;color:#183928;font-weight:700;border:none; border-radius:8px;
      font-size:1em; padding: 7px 17px; cursor:pointer; transition:background .14s;
    }
    button:hover{background:#23c67b;}
    .stats {display:flex;gap:13px; justify-content:center;flex-wrap:wrap;margin:14px 0;}
    .stat {
      background:#ecf9f3; border-radius:9px; box-shadow:0 2px 7px #dbebe633;
      padding:9px 14px 7px 14px; text-align:center;
      color:#338b74;font-weight:600;font-size:1.03em;
    }
    #chart {
      display:block; background:#f4fcfa; border-radius:10px; box-shadow:0 2px 9px #b6e5d7; margin:13px auto 6px auto;
      width:98%;max-width:330px;height:100px;
    }
    .workout-list {
      margin:10px 0 0 0;max-height:138px;overflow-y:auto;padding:0;
    }
    .workout-list li {
      list-style:none;background:#fffbfd;border-radius:8px;padding:7px 9px 3px 10px;
      margin-bottom:5px; font-size:1em; color:#755a7d;
      box-shadow:0 1px 5px #ddd8e933;
    }
    .footer{margin:16px 0 9px 0;text-align:center;opacity:.38;font-size:.98rem;}
    @media(max-width:390px){.dash-box{padding:9px 2vw 7px 2vw;width:99vw;}}
  </style>
</head>
<body>
  <h1>üèãÔ∏è Fitness Tracker</h1>
  <div class="dash-box">
    <form id="logForm" autocomplete="off">
      <select id="type">
        <option>Run</option><option>Bike</option><option>Swim</option>
        <option>Yoga</option><option>Gym</option>
      </select>
      <input type="number" id="duration" min="1" max="360" value="30" required placeholder="Duration (min)">
      <input type="number" id="calories" min="1" max="3000" value="200" required placeholder="Calories">
      <input type="date" id="date" required>
      <button type="submit">Log</button>
    </form>
    <div class="stats" id="stats"></div>
    <canvas id="chart" width="320" height="100"></canvas>
    <ul class="workout-list" id="wlist"></ul>
  </div>
  <div class="footer">All-in-one HTML by YourName ¬∑ Track your week, stay motivated!</div>
  <script>
    function thisWeek(d){ // return YYYY-MM-DD iff in last 7 days
      const dayms = 24*3600*1000, now = new Date();
      let t = typeof d==='string'?new Date(d):d;
      return (now - t) < 7*dayms ? t.toISOString().substr(0,10) : null;
    }
    function getData(){
      return JSON.parse(localStorage.fitnessLog||"[]");
    }
    function setData(d){
      localStorage.fitnessLog=JSON.stringify(d);
    }
    // Workout logging
    document.getElementById('date').value = new Date().toISOString().substr(0,10);
    document.getElementById('logForm').onsubmit = function(e){
      e.preventDefault();
      let d=getData();
      d.push({
        type:this.type.value,
        duration:+this.duration.value,
        calories:+this.calories.value,
        date:this.date.value
      });
      setData(d); render();
    };
    function render(){
      let d=getData(), weekDays=[...Array(7)].map((_,i)=>{
        let dt = new Date(); dt.setDate(dt.getDate()-6+i);
        return dt.toISOString().substr(0,10);
      });
      // Stats for week
      let tot = {duration:0,calories:0}, perDay = weekDays.map(day =>
        d.filter(w => w.date===day));
      weekDays.forEach((day,i) =>
        perDay[i].forEach(w => { tot.duration+=w.duration; tot.calories+=w.calories; })
      );
      document.getElementById('stats').innerHTML =
        `<div class="stat">Minutes: <br><b>${tot.duration}</b></div>
         <div class="stat">Calories: <br><b>${tot.calories}</b></div>`;
      // Chart
      let ctx = document.getElementById('chart').getContext('2d');
      ctx.clearRect(0,0,320,100);
      let max = Math.max(80, ...perDay.map(list => list.reduce((a,b)=>a+b.duration,0)));
      for(let i=0;i<7;i++){
        let h = perDay[i].reduce((a,b)=>a+b.duration,0)/max*80;
        ctx.fillStyle="#49dfa7"; ctx.fillRect(i*42+19, 98-h, 22, h);
        ctx.fillStyle="#999"; ctx.font="12px Segoe UI";
        ctx.fillText(['S','M','T','W','T','F','S'][(new Date(weekDays[i])).getDay()], i*42+23, 98);
      }
      // Workout history
      let html="";
      d.filter(w=>weekDays.includes(w.date))
       .sort((a,b)=>b.date.localeCompare(a.date)).forEach(w => {
        html+=`<li>${w.date}&nbsp; <b>${w.type}</b> ‚Äì ${w.duration} min, 
        <span style="color:#57a">${w.calories} cal</span></li>`;
      });
      document.getElementById('wlist').innerHTML = html || "<li>No workouts this week yet.</li>";
    }
    render();
  </script>
</body>
</html>
