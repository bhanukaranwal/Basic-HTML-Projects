<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book Library Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { background:linear-gradient(120deg,#cabbe9 0%,#ffd6e0 100%);
      font-family:'Segoe UI',Arial,sans-serif;min-height:100vh;margin:0;color:#28214f;
      display:flex;flex-direction:column;align-items:center;}
    h1 {margin:34px 0 12px 0;font-size:2.14rem;color:#6d3afd;}
    .main-box {
      background:rgba(255,255,255,0.98);padding:24px 18px 14px 18px;
      border-radius:16px;box-shadow:0 4px 22px #cabbe978;
      min-width:310px;max-width:97vw;width:390px;display:flex;flex-direction:column;align-items:center;
    }
    .add-form {display:flex;flex-wrap:wrap;gap:7px;align-items:center;margin-bottom:13px;}
    .add-form input, .add-form select {
      font-size:1em;padding:7px 10px;border-radius:7px;border:1.2px solid #cabbe9;margin-right:3px;
    }
    .add-form button {
      background:#6d3afd;color:#fff;font-weight:700;border:none;
      border-radius:7px;padding:7px 16px;cursor:pointer;transition:background .13s;}
    .add-form button:hover {background:#563db8;}
    .filter-row {margin-bottom:12px;}
    .filter-row select {padding:5px 10px;border-radius:7px;font-size:1em;}
    .library {width:100%;}
    .book {
      background:#fffbe7;border-radius:11px;box-shadow:0 2px 8px #cabbe944;
      padding:10px 13px 8px 13px;margin-bottom:9px;position:relative;animation:fadein .48s;
      font-size:1.05em;transition:background .12s;
    }
    .book-title {font-weight:700;font-size:1.08em;color:#492194;}
    .book-author {color:#9b7bb7;font-size:.99em;}
    .actions {margin-top:5px;}
    .actions button {
      background:#e1d8f7;color:#4b37b4;border:none;border-radius:6px;padding:4px 10px;
      cursor:pointer;font-weight:600;margin-right:8px;font-size:.98em;transition:background .1s;}
    .actions button:hover {background:#d5c4ff;}
    .notes {margin:5px 0;color:#393a4a;background:#f7efff;border-radius:7px;padding:6px;}
    .stars {display:inline-block;font-size:1.17em;color:#f7a009;}
    .status {display:inline-block;font-size:.95em;font-weight:600;
      border-radius: 5px; padding:2px 9px; margin-left:6px;}
    .status.want {background:#d3afff;color:#692987;}
    .status.reading {background:#ffecd2;color:#9b7717;}
    .status.finished {background:#afffd7;color:#156942;}
    @keyframes fadein{0%{opacity:0;transform:scale(.95);}100%{opacity:1;transform:scale(1);}}
    .footer{margin:23px 0 9px 0;text-align:center;opacity:.36;font-size:.98em;}
    @media(max-width:430px){.main-box{padding:9px 2vw 7px 2vw;}}
  </style>
</head>
<body>
  <h1>ðŸ“š Book Library</h1>
  <div class="main-box">
    <form class="add-form" id="addBookForm" autocomplete="off">
      <input type="text" id="title" placeholder="Title" maxlength="35" required>
      <input type="text" id="author" placeholder="Author" maxlength="25" required>
      <select id="status">
        <option value="want">Want to Read</option>
        <option value="reading">Reading</option>
        <option value="finished">Finished</option>
      </select>
      <button type="submit">Add</button>
    </form>
    <div class="filter-row">
      <select id="filter">
        <option value="all">All Books</option>
        <option value="want">Want to Read</option>
        <option value="reading">Reading</option>
        <option value="finished">Finished</option>
      </select>
    </div>
    <div class="library" id="library"></div>
  </div>
  <div class="footer">All-in-one HTML by YourName Â· Never lose track of your books!</div>
  <script>
    function getBooks(){return JSON.parse(localStorage.myBooksLib||"[]");}
    function setBooks(d){localStorage.myBooksLib=JSON.stringify(d);}
    function render(){
      let filter=document.getElementById('filter').value;
      let d=getBooks(), lib=document.getElementById('library');
      if(filter!=="all") d=d.filter(b=>b.status===filter);
      lib.innerHTML = d.map((b,i)=>`
        <div class="book">
          <div class="book-title">${b.title}
            <span class="status ${b.status}">${b.status==="want"?"Want to Read":b.status==="reading"?"Reading":"Finished"}</span>
          </div>
          <div class="book-author">by ${b.author}</div>
          <div class="stars">${[1,2,3,4,5].map(n=>n<=b.rating?"â˜…":"â˜†").join('')}</div>
          <div class="actions">
            <button onclick="editBook(${b.id})">Edit</button>
            <button onclick="delBook(${b.id})">Delete</button>
            <button onclick="rateBook(${b.id},${b.rating<5?b.rating+1:0})">Rate ${b.rating}/5</button>
            <button onclick="toggleNotes(${b.id})">${b.notes?"Edit Note":"Add Note"}</button>
          </div>
          <div class="notes" id="note${b.id}" style="display:none">
            <textarea style="width:97%;height:39px;" oninput="saveNotes(${b.id},this.value)">${b.notes||""}</textarea>
          </div>
        </div>
      `).join("")||"<div style='color:#b37;text-align:center;'>No books yet.</div>";
    }
    document.getElementById('addBookForm').onsubmit = function(e){
      e.preventDefault();
      let d=getBooks();
      d.push({
        id:Date.now(),title:this.title.value,author:this.author.value,
        status:this.status.value,rating:0,notes:""
      });
      setBooks(d);this.reset();render();
    }
    document.getElementById('filter').onchange=render;
    window.delBook = function(id){
      setBooks(getBooks().filter(b=>b.id!==id));render();
    }
    window.editBook = function(id){
      let d=getBooks(),b=d.find(b=>b.id===id);
      if(b){
        let t=prompt("Edit title:",b.title), a=prompt("Edit author:",b.author);
        let s=prompt("Edit status (want,reading,finished):",b.status);
        if(t&&a&&(s==="want"||s==="reading"||s==="finished")){
          b.title=t;b.author=a;b.status=s;
          setBooks(d);render();
        }
      }
    }
    window.rateBook = function(id,r){
      let d=getBooks(),b=d.find(b=>b.id===id);
      if(b){b.rating=r;setBooks(d);render();}
    }
    window.toggleNotes = function(id){
      let n=document.getElementById('note'+id);
      if(n) n.style.display=n.style.display==="none"?"block":"none";
    }
    window.saveNotes = function(id,val){
      let d=getBooks(),b=d.find(b=>b.id===id);
      if(b){b.notes=val;setBooks(d);}
    }
    render();
  </script>
</body>
</html>
